# 工程概论课程报告 —— “材智通”智慧材料库数字化管理系统（样机版）

> 报告基于课程作业模板，聚焦样机（MVP）方案。技术路线：React + Ant Design Pro、Spring Boot 3 + MyBatis-Plus、PostgreSQL 15、Spring Security + JWT、MinIO、EasyExcel/Apache POI，Docker-Compose 单机部署。

## 第一章 项目章程
- 项目名称：“材智通——智慧材料库数字化管理系统”样机版  
- 团队：填写组长与成员  
- 时间：2025-01-15 启动，2025-03-15 完成 v1.0  
- 背景：纸质/Excel 易错难追溯，学期末统计耗时，缺实时库存视图，审计需 5 秒可查领用；目标是实现“类目–入库–领用–预警–导出”闭环做演示。  
- 交付：可运行样机、init.sql（含演示数据）、docker-compose、操作手册、API/数据字典、测试记录。  
- 约束：8 周，单机部署，开源栈，支持离线/内网。  
- 风险：条码打印兼容、财务模板变更、考试冲突；措施：提前兼容测试、模板分离、双人备份。

## 第二章 个人与团队工作
- 角色：需求/产品、前端、后端、测试、运维/CI、文档。  
- 工作分解：原型与评审、ER/数据字典、接口设计、前端页面（类目/入库/领用/库存/预警/导出）、后端模块（权限/库存流水/报表）、测试与压测、部署脚本、操作手册。  
- 协作：周会+看板，接口对拍，代码走查，风险清单。

## 第三章 需求规格说明书（ISO）
- 引言：定义样机需求，供设计/开发/测试使用。  
- 任务概述：B/S，本地单机；用户：游客、学生、实验员、管理员；并发 3–5（样机目标 100）。  
- 功能（Must/Should/Could）：  
  - 登录/权限（账号、角色菜单/接口、未登录跳转、用户管理）  
  - 类目/材料（四级类目、品牌/型号/单位/单价/安全库存/扩展 JSON）  
  - 入库（扫码/手动、批次号/二维码、库存递增）  
  - 领用（扫码/列表、校验库存与限额、审批通过扣减、拒绝不扣、PDF 领用单占位）  
  - 库存/预警（总览、搜索、低于阈值标红、通知占位）  
  - 导出（领用明细、课程经费对应表、库存表，模板化 Excel/CSV）  
  - 归还/报废（Should，部分归还、损耗说明/图片、流水记录）  
  - 扩展（仪表盘、PWA 缓存、微信小程序占位、供应商报价/附件）  
- 性能：RT <500 ms @ 100 并发扫码（目标）；导出 5000 条 <5 s；库存差错率 <1%。  
- 输入输出：扫码文本、数量、用途、项目号、审批意见；输出库存列表、PDF/Excel、预警标记。  
- 数据管理：表含 material_category/material_item/stock_batch/stock_transaction/sys_user；保留 ≥2 年。  
- 故障处理：事务回滚、登录失效提示、导出失败返回错误。  
- 其他：安全（密码加密、角色鉴权、审计日志）、可维护（分层清晰、模板配置）。

## 第四章 工程伦理论证
- 数据最小化：仅采集领用所需身份信息。  
- 审计透明：操作日志可追溯，支持个人数据导出/删除意向。  
- 保密：内网访问，备份加密。  
- 责任：管理员分配权限，开发遵守校内数据规范。

## 第五章 概要设计说明书（ISO）
- 架构：前后端分离；前端 React + AntD Pro；后端 Spring Boot 3 分层；PostgreSQL；MinIO；JWT 鉴权；预警通知预留。  
- 模块：认证/授权、类目/材料、库存批次、领用审批、报表导出、预警通知、运维（日志/健康/备份）。  
- 流程：入库/领用写 `stock_transaction`；`stock` 汇总由触发器或服务层维护；二维码文本基于批次号。  
- 模块-需求矩阵：认证→FR1；字典→FR2；入库→FR3；领用→FR4；库存/预警→FR5；导出→FR6；扩展→FR7/FR8。  
- 环境：Chrome/Edge；JDK17+；PostgreSQL15；MinIO；Docker-Compose 单机。  
- 未决：LDAP 接入、短信/企微联调、PWA 缓存策略。

## 第六章 进度计划（8 周）
1) 需求冻结、原型、ER/接口草案  
2) 脚手架、数据库初始化、基础字典接口  
3) 入库流程、批次号/二维码占位  
4) 领用提交+库存扣减、审批页、扫码输入  
5) 权限完善、库存预警、导出模板  
6) 单元/接口/压力测试，Bug 收敛  
7) UAT + 培训材料、操作手册  
8) 上线演示、复盘、Poster

## 第七章 成本与风险控制
- 成本：人力为主，少量打印/标签耗材；开源组件。  
- 风险对策：打印兼容提前测；模板参数化；考试周双人备份；每日备份、访问控制。

## 第八章 详细设计说明书（概述）
- 认证：Spring Security + JWT，BCrypt 密码，登录/刷新，角色鉴权。  
- 类目/材料：MyBatis-Plus 实体/Mapper，递归类目树，扩展 JSON。  
- 库存批次：`stock_batch` 记录批次/数量/到期/条码；`stock_transaction` 记录 IN/OUT/RETURN/SCRAP，事务包装。  
- 领用：提交校验库存与限额，审批通过扣减，拒绝不扣；电子签名占位。  
- 报表：EasyExcel 模板；经费表按项目号聚合；PDF 可模板渲染。  
- 预警：定时扫描安全库存，通知通道可先写消息表并前端标红。  
- 接口：REST `/api`，资源 GET/POST/PUT/DELETE，导出流式返回。

## 第九章 软件系统测试
- 测试项：登录/权限、类目/材料 CRUD、入库事务、领用/审批、库存一致、预警标识、导出。  
- 方法：单元（Service）、接口（Postman/JMeter）、性能（100 并发扫码）、安全（未授权/越权）。  
- 用例原则：覆盖主干+异常（库存不足、账号禁用、模板缺失）。  
- 环境：本地 Docker-Compose（PostgreSQL + MinIO + 后端 + 前端）。

## 第十章 变更申请表（占位）
- 内容：变更项、提出人/日期、原因、影响、审批人、计划、回退。

## 第十一章 用户操作手册（提纲）
- 安装：`docker-compose up -d`，执行 `init.sql`。  
- 账号：admin/lab/stu（123456）。  
- 操作：登录→类目→材料→入库→打印标签→学生领用→实验员审批→库存预警→导出报表。  
- 非常规：故障恢复（重启/检查 DB），备份与还原。

## 第十二章 售后软件问题解决记录表（占位）
- 字段：问题号、环境、现象、日志、处理、责任人、解决日期、用户确认、备注。  
- 要求：现场支持后 24 小时内补录，重大问题邮件同步。
