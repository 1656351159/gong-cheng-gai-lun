# 数据库启动与停止指南（PostgreSQL 容器）

场景：下次要启动/停止本项目的数据库（以及相关服务），按步骤执行即可。默认在项目根目录（包含 `deploy/docker-compose.yml`）操作。

## 启动
1) 打开终端（Windows 可用 PowerShell/CMD，或 Git Bash）。
2) 进入项目目录，例如：
   ```bash
   cd "D:/04knowledge base/21 gong 1"
   ```
3) 启动数据库（及其他服务）：
   ```bash
   docker compose -f deploy/docker-compose.yml up -d
   ```
   - 初次启动会拉取镜像并创建容器。
   - 容器后台运行，数据库端口暴露为 `5432`（用户/密码：postgres/postgres，库：smart_materials）。

## 查看状态
```bash
docker compose -f deploy/docker-compose.yml ps
```
如需看数据库日志：
```bash
docker compose -f deploy/docker-compose.yml logs -f postgres
```
（按 Ctrl+C 退出日志跟踪，容器继续运行。）

## 停止
```bash
docker compose -f deploy/docker-compose.yml down
```
这会停止并移除容器，但保留卷数据（数据库数据会保持）。

## 彻底清理数据（可选）
如果需要清空数据库数据，再运行：
```bash
docker compose -f deploy/docker-compose.yml down -v
```
注意：`-v` 会删除卷，数据库数据将被清空。
