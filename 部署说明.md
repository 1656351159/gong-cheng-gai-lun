# 部署说明（课程作业计划版）

当前仓库已包含 docker-compose、初始化 SQL 以及前后端占位服务，后续补充业务代码即可运行。推荐栈：React + Ant Design Pro / Spring Boot 3 + MyBatis-Plus + PostgreSQL 15 / Spring Security + JWT / MinIO / EasyExcel + Apache POI。

## 1. 环境
- Docker / Docker-Compose
- JDK 17+、Node 18+（用于本地开发；容器启动可不装）

## 2. 目录结构
- backend/：Spring Boot 骨架与 Dockerfile
- frontend/：静态占位页与 Dockerfile（后续替换为 Ant Design Pro 打包结果）
- deploy/docker-compose.yml：PostgreSQL + MinIO + Backend + Frontend
- deploy/init.sql：建表与演示账号/示例数据
- run.sh / run.bat：一键启动

## 3. 一键启动（容器）
- Windows：双击 `run.bat`
- Linux/macOS：`chmod +x run.sh && ./run.sh`

启动后：
- 后端：http://localhost:8080/api （占位登录 `/api/auth/login`，健康检查 `/actuator/health`）
- 前端：http://localhost:3000 （静态占位页）
- PostgreSQL：5432（用户/密码：postgres/postgres，库：smart_materials）
- MinIO：9000（API）/9001（控制台），默认凭证 minioadmin/minioadmin

## 4. 本地开发
- 后端：`cd backend && mvn clean package`，运行 `java -jar target/*.jar`（需先配置本地 PostgreSQL/MinIO 或使用 compose 中服务）
- 前端：`cd frontend && npm install && npm run start`（开发），`npm run build` 后可放入 `frontend/public` 或独立部署

## 5. 初始化数据
- `deploy/init.sql` 会在 PostgreSQL 初始化时自动执行，包含账号：admin/lab/stu（密码均为 123456）及少量示例类目/材料。

## 6. 开发待办
- 后端：补充实体/Mapper/Service/Controller，完成类目、材料、批次/库存、入库、领用、审批、预警、导出等业务；接入 MinIO 与模板导出。
- 前端：用 Ant Design Pro 搭建登录与各业务页面，打包后替换当前占位资源。
- 运维：完善日志、监控、备份脚本；补充 API 文档、操作手册、测试用例。
